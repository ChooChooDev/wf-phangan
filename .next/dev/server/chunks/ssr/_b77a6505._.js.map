{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nwmac/ProjectC/shootingRange/project/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\nimport type { Database } from '@/types/database';\n\nexport async function createClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            );\n          } catch {\n          }\n        },\n      },\n    }\n  );\n}\n\nexport async function createServiceClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            );\n          } catch {\n          }\n        },\n      },\n    }\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM,CACR;YACF;QACF;IACF;AAEJ;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,gFAEvB,QAAQ,GAAG,CAAC,yBAAyB,EACrC;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM,CACR;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/nwmac/ProjectC/shootingRange/project/components/LanguageSwitcher.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/LanguageSwitcher.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/LanguageSwitcher.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","ignoreList":[0]}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/nwmac/ProjectC/shootingRange/project/components/LanguageSwitcher.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/LanguageSwitcher.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/LanguageSwitcher.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA","ignoreList":[0]}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/nwmac/ProjectC/shootingRange/project/app/dashboard/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server';\nimport { redirect } from 'next/navigation';\nimport Link from 'next/link';\nimport { useTranslations } from 'next-intl';\nimport LanguageSwitcher from '@/components/LanguageSwitcher';\nimport { cookies } from 'next/headers';\n\nasync function getStats() {\n  const supabase = await createClient();\n\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  const [totalResult, todayResult, failedResult] = await Promise.all([\n    supabase.from('member_submissions').select('count', { count: 'exact', head: true }),\n    supabase.from('member_submissions').select('count', { count: 'exact', head: true }).gte('created_at', today.toISOString()),\n    supabase.from('member_submissions').select('count', { count: 'exact', head: true }).eq('status', 'storehub_failed'),\n  ]);\n\n  return {\n    total: totalResult.count || 0,\n    today: todayResult.count || 0,\n    failed: failedResult.count || 0,\n  };\n}\n\nexport default async function DashboardPage() {\n  const supabase = await createClient();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  if (!user) {\n    redirect('/login');\n  }\n\n  const stats = await getStats();\n  const cookieStore = await cookies();\n  const currentLocale = cookieStore.get('NEXT_LOCALE')?.value || 'en';\n\n  async function handleLogout() {\n    'use server';\n    const supabase = await createClient();\n    await supabase.auth.signOut();\n    redirect('/login');\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <header className=\"bg-white shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              {currentLocale === 'th' ? 'ลงทะเบียนสมาชิก' : 'Member Registration'}\n            </h1>\n            <div className=\"flex items-center gap-4\">\n              <LanguageSwitcher currentLocale={currentLocale} />\n              <form action={handleLogout}>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition\"\n                >\n                  {currentLocale === 'th' ? 'ออกจากระบบ' : 'Logout'}\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-1\">\n            {currentLocale === 'th' ? 'ยินดีต้อนรับ' : 'Welcome'}, {user.email}\n          </h2>\n          <p className=\"text-gray-600\">\n            {currentLocale === 'th' ? 'เลือกการดำเนินการด้านล่าง' : 'Select an action below'}\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"text-sm font-medium text-gray-600 mb-1\">\n              {currentLocale === 'th' ? 'สมาชิกทั้งหมด' : 'Total Members'}\n            </div>\n            <div className=\"text-3xl font-bold text-gray-900\">{stats.total}</div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"text-sm font-medium text-gray-600 mb-1\">\n              {currentLocale === 'th' ? 'ลงทะเบียนวันนี้' : \"Today's Registrations\"}\n            </div>\n            <div className=\"text-3xl font-bold text-blue-600\">{stats.today}</div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"text-sm font-medium text-gray-600 mb-1\">\n              {currentLocale === 'th' ? 'การส่งที่ล้มเหลว' : 'Failed Submissions'}\n            </div>\n            <div className=\"text-3xl font-bold text-red-600\">{stats.failed}</div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <Link href=\"/register\">\n            <div className=\"bg-blue-600 hover:bg-blue-700 transition rounded-lg shadow-lg p-8 text-white cursor-pointer\">\n              <div className=\"text-2xl font-bold mb-2\">\n                {currentLocale === 'th' ? 'ลงทะเบียนใหม่' : 'New Registration'}\n              </div>\n              <div className=\"text-blue-100\">\n                {currentLocale === 'th' ? 'ลงทะเบียนสมาชิกใหม่' : 'Register a new member'}\n              </div>\n            </div>\n          </Link>\n\n          <Link href=\"/failed\">\n            <div className=\"bg-red-600 hover:bg-red-700 transition rounded-lg shadow-lg p-8 text-white cursor-pointer\">\n              <div className=\"text-2xl font-bold mb-2\">\n                {currentLocale === 'th' ? 'จัดการการส่งที่ล้มเหลว' : 'Manage Failed'}\n              </div>\n              <div className=\"text-red-100\">\n                {currentLocale === 'th' ? 'ลองใหม่หรือยกเลิกการส่งที่ล้มเหลว' : 'Retry or cancel failed submissions'}\n              </div>\n            </div>\n          </Link>\n\n          <Link href=\"/logs\">\n            <div className=\"bg-white hover:bg-gray-50 transition rounded-lg shadow-lg p-8 border-2 border-gray-200 cursor-pointer\">\n              <div className=\"text-2xl font-bold text-gray-900 mb-2\">\n                {currentLocale === 'th' ? 'ดูบันทึก API' : 'View API Logs'}\n              </div>\n              <div className=\"text-gray-600\">\n                {currentLocale === 'th' ? 'ดูบันทึกการเรียก API' : 'View API call logs'}\n              </div>\n            </div>\n          </Link>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///Users/nwmac/ProjectC/shootingRange/project/.next-internal/server/app/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '002388a1888397003d0f37200008ab12467418e683'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}