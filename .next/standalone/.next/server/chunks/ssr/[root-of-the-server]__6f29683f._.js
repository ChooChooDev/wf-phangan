module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},72061,a=>{"use strict";var b=a.i(7997),c=a.i(80004),d=a.i(98310),e=a.i(5246),f=a.i(95936);a.i(70396);var g=a.i(73727);async function h(){let a=await (0,d.createClient)(),{data:b,error:c}=await a.from("api_logs").select(`
      *,
      member_submissions (
        full_name
      )
    `).order("created_at",{ascending:!1}).limit(50);return c?(console.error("Error fetching logs:",c),[]):b||[]}async function i(){let a=await (0,d.createClient)(),{data:{user:i}}=await a.auth.getUser();i||(0,g.redirect)("/login");let j=await h(),k=await (0,e.cookies)(),l=k.get("NEXT_LOCALE")?.value||"en";return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"th"===l?"บันทึก API":"API Logs"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.default,{currentLocale:l}),(0,b.jsx)(f.default,{href:"/dashboard",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition",children:"th"===l?"กลับหน้าหลัก":"Back to Dashboard"})]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:0===j.length?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-600",children:"th"===l?"ไม่พบบันทึก":"No logs found"})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"เวลา":"Time"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"ชื่อ":"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"รหัสอ้างอิง":"Ref ID"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"ประเภท":"Type"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"สถานะ":"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"รหัสตอบกลับ":"Response"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"th"===l?"ระยะเวลา":"Duration"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(a.created_at).toLocaleString("th"===l?"th-TH":"en-US")}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.member_submissions?.full_name||"N/A"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-600",children:a.ref_id}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"create"===a.request_type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:"create"===a.request_type?"th"===l?"สร้าง":"Create":"th"===l?"ลองใหม่":"Retry"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.success?"th"===l?"สำเร็จ":"Success":"th"===l?"ล้มเหลว":"Failed"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.response_status||"N/A"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:a.duration_ms?`${a.duration_ms}ms`:"N/A"})]},a.id))})]})})}),j.length>0&&(0,b.jsx)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:"th"===l?`แสดง ${j.length} รายการล่าสุด`:`Showing last ${j.length} entries`})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6f29683f._.js.map