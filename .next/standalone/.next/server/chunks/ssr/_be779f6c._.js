module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},75403,a=>{"use strict";var b=a.i(7997),c=a.i(37936),d=a.i(80004),e=a.i(98310),f=a.i(5246),g=a.i(95936);a.i(70396);var h=a.i(73727);async function i(){let a=await (0,e.createClient)(),b=new Date;b.setHours(0,0,0,0);let[c,d,f]=await Promise.all([a.from("member_submissions").select("count",{count:"exact",head:!0}),a.from("member_submissions").select("count",{count:"exact",head:!0}).gte("created_at",b.toISOString()),a.from("member_submissions").select("count",{count:"exact",head:!0}).eq("status","storehub_failed")]);return{total:c.count||0,today:d.count||0,failed:f.count||0}}let j=async function(){let a=await (0,e.createClient)();await a.auth.signOut(),(0,h.redirect)("/login")};async function k(){let a=await (0,e.createClient)(),{data:{user:c}}=await a.auth.getUser();c||(0,h.redirect)("/login");let k=await i(),l=await (0,f.cookies)(),m=l.get("NEXT_LOCALE")?.value||"en";return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"th"===m?"ลงทะเบียนสมาชิก":"Member Registration"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{currentLocale:m}),(0,b.jsx)("form",{action:j,children:(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition",children:"th"===m?"ออกจากระบบ":"Logout"})})]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:["th"===m?"ยินดีต้อนรับ":"Welcome",", ",c.email]}),(0,b.jsx)("p",{className:"text-gray-600",children:"th"===m?"เลือกการดำเนินการด้านล่าง":"Select an action below"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"th"===m?"สมาชิกทั้งหมด":"Total Members"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:k.total})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"th"===m?"ลงทะเบียนวันนี้":"Today's Registrations"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:k.today})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"th"===m?"การส่งที่ล้มเหลว":"Failed Submissions"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-red-600",children:k.failed})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsx)(g.default,{href:"/register",children:(0,b.jsxs)("div",{className:"bg-blue-600 hover:bg-blue-700 transition rounded-lg shadow-lg p-8 text-white cursor-pointer",children:[(0,b.jsx)("div",{className:"text-2xl font-bold mb-2",children:"th"===m?"ลงทะเบียนใหม่":"New Registration"}),(0,b.jsx)("div",{className:"text-blue-100",children:"th"===m?"ลงทะเบียนสมาชิกใหม่":"Register a new member"})]})}),(0,b.jsxs)("div",{className:"flex flex-row gap-6 w-full justify-between",children:[(0,b.jsx)(g.default,{href:"/failed",children:(0,b.jsxs)("div",{className:"bg-red-600 hover:bg-red-700 transition rounded-lg shadow-lg p-8 text-white cursor-pointer w-full ",children:[(0,b.jsx)("div",{className:"text-2xl font-bold mb-2",children:"th"===m?"จัดการการส่งที่ล้มเหลว":"Manage Failed"}),(0,b.jsx)("div",{className:"text-red-100",children:"th"===m?"ลองใหม่หรือยกเลิกการส่งที่ล้มเหลว":"Retry or cancel failed submissions"})]})}),(0,b.jsx)(g.default,{href:"/logs",children:(0,b.jsxs)("div",{className:"bg-white hover:bg-gray-50 transition rounded-lg shadow-lg p-8 border-2 border-gray-200 cursor-pointer w-full",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:"th"===m?"ดูบันทึก":"View Logs"}),(0,b.jsx)("div",{className:"text-gray-600",children:"th"===m?"ดูบันทึกการเรียก API":"View API call logs"})]})})]})]})]})]})}(0,c.registerServerReference)(j,"00e0266d951844f4571ea812579811c50eed35f418",null),a.s(["$$RSC_SERVER_ACTION_0",0,j,"default",()=>k])},44469,a=>{"use strict";var b=a.i(75403);a.s([],6),a.i(6),a.s(["00e0266d951844f4571ea812579811c50eed35f418",()=>b.$$RSC_SERVER_ACTION_0],44469)}];

//# sourceMappingURL=_be779f6c._.js.map